{"version":3,"sources":["webpack:///./src/views/Daily.vue?3361","webpack:///src/views/Daily.vue","webpack:///./src/views/Daily.vue?6bae","webpack:///./src/views/Daily.vue","webpack:///./src/views/Daily.vue?0e94","webpack:///./src/components/Moonlight.vue?5315","webpack:///src/components/Moonlight.vue","webpack:///./src/components/Moonlight.vue?eb6b","webpack:///./src/components/Moonlight.vue"],"names":["render","_vm","this","_h","$createElement","_self","_c","_m","staticRenderFns","attrs","name","components","Moonlight","component","staticClass","data","mounted","createLandscape","params","scene","renderer","camera","terrain","container","document","querySelector","width","window","innerWidth","height","innerHeight","mouse","x","y","xDamped","yDamped","isMobile","orientation","init","sceneSetup","sceneElements","sceneTextures","addEventListener","resize","THREE","Scene","fogColor","Color","background","fog","Fog","sky","PerspectiveCamera","position","z","ambientLight","AmbientLight","add","WebGLRenderer","canvas","antialias","setPixelRatio","devicePixelRatio","setSize","geometry","PlaneBufferGeometry","uniforms","time","type","value","distortCenter","roadWidth","pallete","speed","maxHeight","color","material","ShaderMaterial","UniformsUtils","merge","vertexShader","getElementById","textContent","fragmentShader","wireframe","Mesh","rotation","Math","PI","console","log","palleteImage","TextureLoader","load","texture","needsUpdate","Sky","scale","setScalar","turbidity","rayleigh","luminance","mieCoefficient","mieDirectionalG","sunSphere","visible","theta","phi","cos","sin","sunPosition","copy","aspect","updateProjectionMatrix","onInputMove","e","preventDefault","clientX","clientY","changedTouches","requestAnimationFrame","lerp","performance","now","map","start1","stop1","start2","stop2","start","end","amt"],"mappings":"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","file":"js/daily.74bdc679.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"daily\"}},[_c('div',{attrs:{\"id\":\"bg\"}})])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div id=\"daily\">\r\n    <div id=\"bg\">\r\n\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// @ is an alias to /src\r\nimport Moonlight from \"../components/Moonlight.vue\";\r\nexport default {\r\n  name: \"daily\",\r\n  components: {\r\n    Moonlight,\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n#daily {\r\n  /* position: relative; */\r\n  z-index: 1;\r\n}\r\n#bg {\r\n  background: url(https://api.dujin.org/bing/1920.php) no-repeat fixed;\r\n  width: 100vw;\r\n  height: 100vh;\r\n  background-size: 100% 100%;\r\n  z-index: 1;\r\n}\r\n</style>\r\n\r\n\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Daily.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Daily.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Daily.vue?vue&type=template&id=06fb2cc8&scoped=true&\"\nimport script from \"./Daily.vue?vue&type=script&lang=js&\"\nexport * from \"./Daily.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Daily.vue?vue&type=style&index=0&id=06fb2cc8&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"06fb2cc8\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Daily.vue?vue&type=style&index=0&id=06fb2cc8&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Daily.vue?vue&type=style&index=0&id=06fb2cc8&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"moonlight\"}},[_c('canvas',{staticClass:\"landscape\"})])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div id=\"moonlight\">\r\n    <canvas class=\"landscape\"></canvas>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"moonlight\",\r\n  data() {\r\n    return {\r\n    };\r\n  },\r\n  mounted() {\r\n    createLandscape({\r\n      // palleteImage: \"../assets/pallete6.png\"\r\n    });\r\n\r\n    function createLandscape(params) {\r\n      var container = document.querySelector(\".landscape\");\r\n      var width = window.innerWidth;\r\n      var height = window.innerHeight;\r\n\r\n      var scene, renderer, camera;\r\n      var terrain;\r\n\r\n      var mouse = {\r\n        x: 0,\r\n        y: 0,\r\n        xDamped: 0,\r\n        yDamped: 0\r\n      };\r\n      var isMobile = typeof window.orientation !== \"undefined\";\r\n\r\n      init();\r\n\r\n      function init() {\r\n        sceneSetup();\r\n        sceneElements();\r\n        sceneTextures();\r\n        render();\r\n\r\n        if (isMobile)\r\n          window.addEventListener(\"touchmove\", onInputMove, {\r\n            passive: false\r\n          });\r\n        else window.addEventListener(\"mousemove\", onInputMove);\r\n\r\n        window.addEventListener(\"resize\", resize);\r\n        resize();\r\n      }\r\n\r\n      function sceneSetup() {\r\n        scene = new THREE.Scene();\r\n        var fogColor = new THREE.Color(0x000000);\r\n        scene.background = fogColor;\r\n        scene.fog = new THREE.Fog(fogColor, 10, 400);\r\n\r\n        sky();\r\n\r\n        camera = new THREE.PerspectiveCamera(60, width / height, 0.1, 10000);\r\n        camera.position.y = 8;\r\n        camera.position.z = 4;\r\n\r\n        var ambientLight = new THREE.AmbientLight(0xffffff, 1);\r\n        scene.add(ambientLight);\r\n\r\n        renderer = new THREE.WebGLRenderer({\r\n          canvas: container,\r\n          antialias: true\r\n        });\r\n        renderer.setPixelRatio = devicePixelRatio;\r\n        renderer.setSize(width, height);\r\n      }\r\n\r\n      function sceneElements() {\r\n        var geometry = new THREE.PlaneBufferGeometry(100, 400, 400, 400);\r\n\r\n        var uniforms = {\r\n          time: {\r\n            type: \"f\",\r\n            value: 0.0\r\n          },\r\n          distortCenter: {\r\n            type: \"f\",\r\n            value: 0.1\r\n          },\r\n          roadWidth: {\r\n            type: \"f\",\r\n            value: 0.5\r\n          },\r\n          pallete: {\r\n            type: \"t\",\r\n            value: null\r\n          },\r\n          speed: {\r\n            type: \"f\",\r\n            value: 1\r\n          },\r\n          maxHeight: {\r\n            type: \"f\",\r\n            value: 10.0\r\n          },\r\n          color: new THREE.Color(1, 1, 1)\r\n        };\r\n\r\n        var material = new THREE.ShaderMaterial({\r\n          uniforms: THREE.UniformsUtils.merge([\r\n            THREE.ShaderLib.basic.uniforms,\r\n            uniforms\r\n          ]),\r\n          vertexShader: document.getElementById(\"custom-vertex\").textContent,\r\n          fragmentShader: document.getElementById(\"custom-fragment\")\r\n            .textContent,\r\n          wireframe: false,\r\n          fog: true\r\n        });\r\n\r\n        terrain = new THREE.Mesh(geometry, material);\r\n        terrain.position.z = -180;\r\n        terrain.rotation.x = -Math.PI / 2;\r\n\r\n        scene.add(terrain);\r\n      }\r\n\r\n\r\n      function sceneTextures() {\r\n        // pallete\r\n        console.log(params.palleteImage);\r\n        new THREE.TextureLoader().load(params.palleteImage, function(texture) {\r\n          terrain.material.uniforms.pallete.value = texture;\r\n          terrain.material.needsUpdate = true;\r\n        });\r\n      }\r\n\r\n      function sky() {\r\n        sky = new THREE.Sky();\r\n        sky.scale.setScalar(450000);\r\n        sky.material.uniforms.turbidity.value = 1;\r\n        sky.material.uniforms.rayleigh.value = 0.01;\r\n        sky.material.uniforms.luminance.value = 1;\r\n        sky.material.uniforms.mieCoefficient.value = 0.0003;\r\n        sky.material.uniforms.mieDirectionalG.value = 0.99995;\r\n\r\n        scene.add(sky);\r\n\r\n        var sunSphere = new THREE.Mesh(\r\n          new THREE.SphereBufferGeometry(20000, 16, 8),\r\n          new THREE.MeshBasicMaterial({\r\n            color: 0xffffff\r\n          })\r\n        );\r\n        sunSphere.visible = false;\r\n        scene.add(sunSphere);\r\n\r\n        var theta = Math.PI * -0.03;\r\n        var phi = 2 * Math.PI * -0.25;\r\n\r\n        sunSphere.position.x = 400000 * Math.cos(phi);\r\n        sunSphere.position.y = 400000 * Math.sin(phi) * Math.sin(theta);\r\n        sunSphere.position.z = 400000 * Math.sin(phi) * Math.cos(theta);\r\n\r\n        sky.material.uniforms.sunPosition.value.copy(sunSphere.position);\r\n      }\r\n\r\n      function resize() {\r\n        width = window.innerWidth;\r\n        height = window.innerHeight;\r\n        camera.aspect = width / height;\r\n        camera.updateProjectionMatrix();\r\n        renderer.setSize(width, height);\r\n      }\r\n\r\n      function onInputMove(e) {\r\n        e.preventDefault();\r\n\r\n        var x, y;\r\n        if (e.type == \"mousemove\") {\r\n          x = e.clientX;\r\n          y = e.clientY;\r\n        } else {\r\n          x = e.changedTouches[0].clientX;\r\n          y = e.changedTouches[0].clientY;\r\n        }\r\n\r\n        mouse.x = x;\r\n        mouse.y = y;\r\n      }\r\n\r\n      function render() {\r\n        requestAnimationFrame(render);\r\n\r\n        // damping mouse for smoother interaction\r\n        mouse.xDamped = lerp(mouse.xDamped, mouse.x, 0.1);\r\n        mouse.yDamped = lerp(mouse.yDamped, mouse.y, 0.1);\r\n\r\n        var time = performance.now() * 0.001;\r\n        terrain.material.uniforms.time.value = time;\r\n        terrain.material.uniforms.distortCenter.value = Math.sin(time) * 0.1;\r\n        terrain.material.uniforms.maxHeight.value = map(\r\n          mouse.yDamped,\r\n          0,\r\n          height,\r\n          20,\r\n          5\r\n        );\r\n\r\n        renderer.render(scene, camera);\r\n      }\r\n\r\n      function map(value, start1, stop1, start2, stop2) {\r\n        return (\r\n          start2 + (stop2 - start2) * ((value - start1) / (stop1 - start1))\r\n        );\r\n      }\r\n\r\n      function lerp(start, end, amt) {\r\n        return (1 - amt) * start + amt * end;\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped>\r\n\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Moonlight.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Moonlight.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Moonlight.vue?vue&type=template&id=3302bd18&scoped=true&\"\nimport script from \"./Moonlight.vue?vue&type=script&lang=js&\"\nexport * from \"./Moonlight.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3302bd18\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}